<!--  
Author: 	Tammy Bogart G2 Ops, Virginia Beach, VA
Version:	1.00, May 2018

Purpose: 	to add a business attribute to the business_value_attributions table

Modifications
Date			Name			Description
5.2.2018		Tammy.Bogart	Created	
 -->
 
 <ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui"
	template="/templates/full-page-form.xhtml">



	<ui:define name="document-title">Add Business Process</ui:define>

	<ui:define name="page-name">Administrator: &#160; <strong>Business Processes</strong></ui:define>

	<ui:define name="full-page-form">
		<h:form id="frmMain">
			<b:panel id="pnlMain" look="default">
				<b:row><!-- row for spacing -->
					<b:column><span class="rowSpace"><br/></span></b:column>
				</b:row>
				<b:row><!-- row for error/validation messages -->
					<b:column col-md="12">
						<b:messages id="messages" name="messages"></b:messages>
					</b:column>
				</b:row>
				<b:row><!-- row for spacing -->
					<b:column><span class="rowSpace"><br/></span></b:column>
				</b:row>
				<b:panel id="pnlColl" collapsible="false" title="Business Process">
					<b:row>
						<b:column col-xs="10" offset-xs="1" col-sm="8" offset-sm="2" col-md="6" offset-md="3">
							<b:inputText id="selectedBusName" label="Business Process Name" value="#{businessAttribution.selectedBusName}" required="true" requiredMessage="Business Process Name is required" />
						<b:focus />
						</b:column>
					</b:row>
					<b:row>
						<b:column col-xs="10" offset-xs="1" col-sm="8" offset-sm="2" col-md="6" offset-md="3">
							<b:selectOneMenu label="Business Interruption Threshold" id="bit" value="#{businessAttribution.bit}" tooltip="Choose a Business Interruption Threshold">
								<f:selectItems value="#{businessAttribution.bits}" var="bit" itemValue="#{bit}" itemLabel="#{bit}"></f:selectItems>
							</b:selectOneMenu>
						</b:column>
					</b:row>
	 				<b:row>
						<b:column col-xs="10" offset-xs="1" col-sm="8" offset-sm="2" col-md="6" offset-md="3">
							<b:selectOneMenu label="Business Criticality" id="busCrit" value="#{businessAttribution.busCrit}" tooltip="Choose a Business Criticality Level">
								<f:selectItems value="#{businessAttribution.bcrits}" var="busCrit" itemValue="#{busCrit}" itemLabel="#{busCrit}"></f:selectItems>
							</b:selectOneMenu>
						</b:column>
					</b:row>
				<b:row>
						<b:column col-xs="10" offset-xs="1" col-sm="8" offset-sm="2" col-md="6" offset-md="3">
						<b:selectOneMenu label="Information Classification" id="infClass" value="#{businessAttribution.infClass}" tooltip="Choose a level of classification">
							<f:selectItems value="#{businessAttribution.iclass}" var="infClass" itemValue="#{infClass}" itemLabel="#{infClass}"></f:selectItems>
						</b:selectOneMenu>
					</b:column>
				</b:row>
	 				<b:row>
						<b:column col-xs="10" offset-xs="1" col-sm="8" offset-sm="2" col-md="6" offset-md="3">
							<b:selectOneMenu label="Breach Type" id="dbType" value="#{businessAttribution.dbType}" tooltip="Choose a default Breach Type">
								<f:selectItems value="#{businessAttribution.dbtypes}" var="dbType" itemValue="#{dbType}" itemLabel="#{dbType}"></f:selectItems>
							</b:selectOneMenu>
						</b:column>
					</b:row>
				<b:row>
						<b:column col-xs="10" offset-xs="1" col-sm="8" offset-sm="2" col-md="6" offset-md="3">
						<b:inputText label="Risk Appetite" id="riskAppetite" value="#{businessAttribution.riskAppetite}" mask="decimal" maxlength="3" tooltip="Value must be between 4 and 100." 
									 validatorMessage="The Risk Appetite value must be between 0 and 100" class="alignright">
							<f:validateLongRange minimum="0" maximum="100" />
						</b:inputText>
					</b:column>
				</b:row>
				<b:row>
						<b:column col-xs="10" offset-xs="1" col-sm="8" offset-sm="2" col-md="6" offset-md="3">
							<b:inputText id="resistanceStrength" label="Resistance Strength" value="#{businessAttribution.resistanceStrengthstr}" mask="decimal" class="alignright"   
							tooltip="Value must be 2, 16, 84, 98, or between 40 and 60" validatorMessage="The Resistance Strength value must be 2, 16, 84, 98, or between 40 and 60">							
								<f:validateRegex pattern="^2|16|84|98|4[0-9]|5[0-9]|60" minimum="2" maximum="60" />
							</b:inputText>
						</b:column>
					</b:row>
					<b:row>
						<b:column col-xs="10" offset-xs="1" col-sm="8" offset-sm="2" col-md="6" offset-md="3">
							<b:inputText id="annRevC" label="Annual Revenue" value="#{businessAttribution.annRevC}" class="alignright" placeholder=" "/>
						</b:column>
					</b:row>  
					<b:row>
						<b:column col-xs="10" offset-xs="1" col-sm="8" offset-sm="2" col-md="6" offset-md="3">
							<b:inputText id="annRevYear" label="Annual Revenue Year" placeholder="2018" class="alignright" value="#{businessAttribution.annRevYearstr}" 
									validatorMessage="The Annual Revenue Year must be a 4 digit year 'yyyy'.">
								 <f:convertNumber integerOnly="true" groupingUsed="false" />						
							</b:inputText>
						</b:column>
					</b:row>
					<b:row>
						<b:column col-xs="10" offset-xs="1" col-sm="8" offset-sm="2" col-md="6" offset-md="3">
							<b:inputText id="recordCount" label="Record Count" value="#{businessAttribution.recordCount}" class="alignright"/>													
						</b:column>
					</b:row>
				</b:panel>	<!-- end of pnlColl -->
				<b:row><!-- row for spacing -->
					<b:column><span class="rowSpace"><br/></span></b:column>
				</b:row>
				<b:row>
					<b:column col-md="12" style="text-align:center;">
						<b:commandButton  value="Save" iconAwesome="save" size="sm" look="primary" disabled="false"
										  action="#{businessAttribution.addBVAControllerMethod()}" />
						<b:button value="Cancel" iconAwesome="times" size="sm" look="default" href="business-attribution-table.jsf"></b:button>
					</b:column>
				</b:row>
			</b:panel>		<!-- end of pnlMain -->
		</h:form>		<!-- end of frmMain -->
	</ui:define>
</ui:composition>